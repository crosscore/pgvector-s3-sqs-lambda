# rag-pgvector

1. ファイルハッシュの計算と検証を導入し、同一ファイルの重複ダウンロードを防ぎます。
2. 一時ファイルを使用してダウンロードを行い、成功した場合のみ正式なファイル名に変更します。これにより、部分的なダウンロードによる問題を防ぎます。
3. データベースを使用して、成功したダウンロードの記録を保持します。これにより、プログラムが再起動しても以前のダウンロード状態を把握できます。
4. エラーハンドリングを強化し、予期せぬ例外が発生した場合にもグレースフルに処理します。
5. データベース操作にトランザクションを使用し、データの一貫性を保ちます。

冪等性：同じメッセージを複数回処理しても、結果は同じになります。
耐障害性：部分的なダウンロードや予期せぬエラーに対して適切に対処します。
一貫性：データベースを使用して処理状態を追跡し、重複処理を防ぎます。
